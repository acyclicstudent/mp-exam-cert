{"version":3,"sources":["../../../src/assets/js/bundle.js"],"names":["App","React","useState","showModal","setShowModal","name","surname","email","number","street","hnumber","zip","data","setData","isLoading","setIsLoading","useEffect","activePay","btnPay","document","getElementById","addEventListener","removeEventListener","changeText","e","target","value","requestPayment","urlParams","URLSearchParams","window","location","search","id","get","fetch","method","headers","body","JSON","stringify","then","response","json","jsonData","replace","url","ex","console","log","cancel","ReactDOM","render"],"mappings":"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","sourcesContent":["function App() {\r\n    const [showModal, setShowModal] = React.useState(false);\r\n    const [data, setData] = React.useState({\r\n        name: '',\r\n        surname: '',\r\n        email: '',\r\n        number: '',\r\n        street: '',\r\n        hnumber: '',\r\n        zip: ''\r\n    });\r\n    const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n    React.useEffect(\r\n        () => {\r\n            const activePay = () => {\r\n                setShowModal(true);\r\n            }\r\n            const btnPay = document.getElementById('btn-pay');\r\n            btnPay.addEventListener('click', activePay);\r\n            return () => {\r\n                btnPay.removeEventListener('click', activePay);\r\n            }\r\n        },\r\n        [setShowModal]\r\n    );\r\n\r\n    const changeText = (e) => {\r\n        setData({\r\n            ...data,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    }\r\n\r\n    const requestPayment = () => {\r\n        setIsLoading(true);\r\n        const urlParams = new URLSearchParams(window.location.search);\r\n        const id = urlParams.get('id');\r\n        fetch('/payment', {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({\r\n                ...data,\r\n                id: id\r\n            })\r\n        }).then(response => response.json())\r\n        .then(jsonData => {\r\n            window.location.replace(jsonData.url);\r\n        }).catch(ex => {\r\n            console.log(ex);\r\n            setIsLoading(false);\r\n        });\r\n    }\r\n    \r\n    const cancel = () => {\r\n        setShowModal(false);\r\n    }\r\n    \r\n    if (!showModal) return null; \r\n    return (\r\n        <div className=\"modal-container\">\r\n            <div className=\"modal\">\r\n                {\r\n                    !isLoading ? (\r\n                        <React.Fragment>\r\n                            <p className=\"title\">Necesitamos algunos datos para completar tu compra</p>\r\n                            <p className=\"label\">Nombre</p>\r\n                            <input \r\n                                type=\"text\"\r\n                                name=\"name\" \r\n                                value={data.name} \r\n                                onChange={changeText}\r\n                                placeholder=\"Ej. Juan\" \r\n                            />\r\n                            <p className=\"label\">Apellido</p>\r\n                            <input \r\n                                type=\"text\"\r\n                                name=\"surname\" \r\n                                value={data.surname} \r\n                                onChange={changeText}\r\n                                placeholder=\"Ej. Avila\" \r\n                            />\r\n                            <p className=\"label\">Email</p>\r\n                            <input \r\n                                type=\"text\"\r\n                                name=\"email\" \r\n                                value={data.email} \r\n                                onChange={changeText}\r\n                                placeholder=\"Ej. example@example.com\" \r\n                            />\r\n                            <p className=\"label\">Número de telefono</p>\r\n                            <div className=\"phone-number\">\r\n                                <p>+52</p>\r\n                                <input \r\n                                    type=\"text\"\r\n                                    name=\"number\" \r\n                                    value={data.number} \r\n                                    onChange={changeText}\r\n                                    placeholder=\"Ej. 5512345678\" \r\n                                />\r\n                            </div>\r\n                            <p className=\"label\">Calle</p>\r\n                            <input \r\n                                type=\"text\"\r\n                                name=\"street\" \r\n                                value={data.street} \r\n                                onChange={changeText}\r\n                                placeholder=\"Ej. La garita\" \r\n                            />\r\n                            <p className=\"label\">Número de casa</p>\r\n                            <input \r\n                                type=\"text\"\r\n                                name=\"hnumber\" \r\n                                value={data.hnumber} \r\n                                onChange={changeText}\r\n                                placeholder=\"Ej. 23\" \r\n                            />\r\n                            <p className=\"label\">Código Postal</p>\r\n                            <input \r\n                                type=\"text\"\r\n                                name=\"zip\" \r\n                                value={data.zip} \r\n                                onChange={changeText}\r\n                                placeholder=\"Ej. 55706\" \r\n                            />\r\n                            <button onClick={requestPayment} className=\"btn-continue\">Continuar</button>\r\n                            <button onClick={cancel} className=\"btn-cancel\">Cancelar</button>\r\n                        </React.Fragment>\r\n                    ) : (\r\n                        <p className=\"title\">Cargando...</p>\r\n                    )\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nReactDOM.render(\r\n    <App />,\r\n    document.getElementById('root')\r\n);"],"file":"bundle.js"}